{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nvar PortalContext = React.createContext(null);\nvar globalOverlayCounter = 0;\nexport function PortalProvider(props) {\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      items = _React$useState2[0],\n      setItems = _React$useState2[1];\n\n  var setOverlayItem = function setOverlayItem(item) {\n    var overlayId = ++globalOverlayCounter;\n    setItems(function (prev) {\n      return prev.concat([{\n        id: overlayId,\n        node: item\n      }]);\n    });\n    return overlayId;\n  };\n\n  var updateOverlayItem = function updateOverlayItem(id, node) {\n    setItems(function (prev) {\n      return prev.map(function (item) {\n        if (item.id === id) {\n          return {\n            id: id,\n            node: node\n          };\n        }\n\n        return item;\n      });\n    });\n  };\n\n  var removeOverlayItem = function removeOverlayItem(id) {\n    setItems(function (prev) {\n      var newItems = prev.filter(function (item) {\n        return item.id !== id;\n      });\n      return newItems;\n    });\n  };\n\n  return React.createElement(PortalContext.Provider, {\n    value: {\n      items: items,\n      setOverlayItem: setOverlayItem,\n      removeOverlayItem: removeOverlayItem,\n      updateOverlayItem: updateOverlayItem\n    }\n  }, props.children, items.map(function (item) {\n    return React.createElement(React.Fragment, {\n      key: item.id\n    }, item.node);\n  }));\n}\n\nfunction OverlayView(props) {\n  return React.createElement(View, _extends({\n    pointerEvents: \"box-none\",\n    style: StyleSheet.absoluteFill,\n    collapsable: false\n  }, props));\n}\n\nexport var OverlayProvider = PortalProvider;\nexport function OverlayContainer(props) {\n  var context = usePortalProvider();\n  var overlayId = React.useRef(undefined);\n  var contents = React.createElement(OverlayView, props);\n  useEffect(function () {\n    if (overlayId.current === undefined) {\n      overlayId.current = context === null || context === void 0 ? void 0 : context.setOverlayItem(contents);\n    } else {\n      if (overlayId.current) {\n        context === null || context === void 0 ? void 0 : context.updateOverlayItem(overlayId.current, contents);\n      }\n    }\n  }, [props]);\n  useEffect(function () {\n    return function () {\n      if (overlayId.current) {\n        context === null || context === void 0 ? void 0 : context.removeOverlayItem(overlayId.current);\n      }\n    };\n  }, []);\n  return null;\n}\n\nfunction usePortalProvider() {\n  var context = React.useContext(PortalContext);\n  return context;\n}","map":{"version":3,"mappings":"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","names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","React","useEffect","PortalContext","createContext","globalOverlayCounter","PortalProvider","props","useState","items","setItems","setOverlayItem","overlayId","prev","concat","id","node","item","updateOverlayItem","map","removeOverlayItem","newItems","filter","createElement","Provider","value","children","Fragment","OverlayView","View","pointerEvents","style","StyleSheet","absoluteFill","collapsable","OverlayProvider","OverlayContainer","context","usePortalProvider","useRef","undefined","contents","current","useContext"],"sources":["D:/Users/georg/Desktop/MAD/SpaceBook/node_modules/@react-native-aria/overlays/lib/module/Portal.js"],"sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useEffect } from 'react';\nimport { StyleSheet, View } from 'react-native';\nconst PortalContext = /*#__PURE__*/React.createContext(null);\nlet globalOverlayCounter = 0;\nexport function PortalProvider(props) {\n  const [items, setItems] = React.useState([]);\n\n  const setOverlayItem = item => {\n    const overlayId = ++globalOverlayCounter;\n    setItems(prev => prev.concat([{\n      id: overlayId,\n      node: item\n    }]));\n    return overlayId;\n  };\n\n  const updateOverlayItem = (id, node) => {\n    setItems(prev => prev.map(item => {\n      if (item.id === id) {\n        return {\n          id,\n          node\n        };\n      }\n\n      return item;\n    }));\n  };\n\n  const removeOverlayItem = id => {\n    setItems(prev => {\n      const newItems = prev.filter(item => item.id !== id);\n      return newItems;\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(PortalContext.Provider, {\n    value: {\n      items,\n      setOverlayItem,\n      removeOverlayItem,\n      updateOverlayItem\n    }\n  }, props.children, items.map(item => {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: item.id\n    }, item.node);\n  }));\n}\n\nfunction OverlayView(props) {\n  return /*#__PURE__*/React.createElement(View, _extends({\n    pointerEvents: \"box-none\",\n    style: StyleSheet.absoluteFill,\n    collapsable: false\n  }, props));\n}\n\nexport const OverlayProvider = PortalProvider;\nexport function OverlayContainer(props) {\n  const context = usePortalProvider();\n  const overlayId = React.useRef(undefined);\n  let contents = /*#__PURE__*/React.createElement(OverlayView, props);\n  useEffect(() => {\n    // Mount\n    if (overlayId.current === undefined) {\n      overlayId.current = context === null || context === void 0 ? void 0 : context.setOverlayItem(contents);\n    } // Update\n    else {\n        if (overlayId.current) {\n          context === null || context === void 0 ? void 0 : context.updateOverlayItem(overlayId.current, contents);\n        }\n      }\n  }, // To re-render the child\n  [props]); // Unmount\n\n  useEffect(() => {\n    return () => {\n      if (overlayId.current) {\n        context === null || context === void 0 ? void 0 : context.removeOverlayItem(overlayId.current);\n      }\n    };\n  }, []);\n  return null;\n}\n\nfunction usePortalProvider() {\n  const context = React.useContext(PortalContext);\n  return context;\n}\n//# sourceMappingURL=Portal.js.map"]},"metadata":{},"sourceType":"module"}