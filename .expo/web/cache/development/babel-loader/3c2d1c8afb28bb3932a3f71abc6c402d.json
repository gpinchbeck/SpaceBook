{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport * as React from 'react';\nexport default function useEventEmitter(listen) {\n  var listenRef = React.useRef(listen);\n  React.useEffect(function () {\n    listenRef.current = listen;\n  });\n  var listeners = React.useRef({});\n  var create = React.useCallback(function (target) {\n    var removeListener = function removeListener(type, callback) {\n      var callbacks = listeners.current[type] ? listeners.current[type][target] : undefined;\n\n      if (!callbacks) {\n        return;\n      }\n\n      var index = callbacks.indexOf(callback);\n      callbacks.splice(index, 1);\n    };\n\n    var addListener = function addListener(type, callback) {\n      listeners.current[type] = listeners.current[type] || {};\n      listeners.current[type][target] = listeners.current[type][target] || [];\n      listeners.current[type][target].push(callback);\n      return function () {\n        return removeListener(type, callback);\n      };\n    };\n\n    return {\n      addListener: addListener,\n      removeListener: removeListener\n    };\n  }, []);\n  var emit = React.useCallback(function (_ref) {\n    var _ref2;\n\n    var _items$target, _listenRef$current;\n\n    var type = _ref.type,\n        data = _ref.data,\n        target = _ref.target,\n        canPreventDefault = _ref.canPreventDefault;\n    var items = listeners.current[type] || {};\n    var callbacks = target !== undefined ? (_items$target = items[target]) === null || _items$target === void 0 ? void 0 : _items$target.slice() : (_ref2 = []).concat.apply(_ref2, _toConsumableArray(Object.keys(items).map(function (t) {\n      return items[t];\n    }))).filter(function (cb, i, self) {\n      return self.lastIndexOf(cb) === i;\n    });\n    var event = {\n      get type() {\n        return type;\n      }\n\n    };\n\n    if (target !== undefined) {\n      Object.defineProperty(event, 'target', {\n        enumerable: true,\n        get: function get() {\n          return target;\n        }\n      });\n    }\n\n    if (data !== undefined) {\n      Object.defineProperty(event, 'data', {\n        enumerable: true,\n        get: function get() {\n          return data;\n        }\n      });\n    }\n\n    if (canPreventDefault) {\n      var defaultPrevented = false;\n      Object.defineProperties(event, {\n        defaultPrevented: {\n          enumerable: true,\n          get: function get() {\n            return defaultPrevented;\n          }\n        },\n        preventDefault: {\n          enumerable: true,\n          value: function value() {\n            defaultPrevented = true;\n          }\n        }\n      });\n    }\n\n    (_listenRef$current = listenRef.current) === null || _listenRef$current === void 0 ? void 0 : _listenRef$current.call(listenRef, event);\n    callbacks === null || callbacks === void 0 ? void 0 : callbacks.forEach(function (cb) {\n      return cb(event);\n    });\n    return event;\n  }, []);\n  return React.useMemo(function () {\n    return {\n      create: create,\n      emit: emit\n    };\n  }, [create, emit]);\n}","map":{"version":3,"mappings":"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","names":["React","useEventEmitter","listen","listenRef","useRef","useEffect","current","listeners","create","useCallback","removeListener","type","callback","callbacks","target","undefined","index","indexOf","splice","addListener","push","emit","_items$target","_listenRef$current","_ref","data","canPreventDefault","items","slice","concat","Object","keys","map","t","filter","cb","i","self","lastIndexOf","event","defineProperty","enumerable","get","defaultPrevented","defineProperties","preventDefault","value","call","forEach","useMemo"],"sources":["D:/Users/georg/Desktop/MAD/SpaceBook/node_modules/@react-navigation/core/lib/module/useEventEmitter.js"],"sourcesContent":["import * as React from 'react';\n\n/**\n * Hook to manage the event system used by the navigator to notify screens of various events.\n */\nexport default function useEventEmitter(listen) {\n  const listenRef = React.useRef(listen);\n  React.useEffect(() => {\n    listenRef.current = listen;\n  });\n  const listeners = React.useRef({});\n  const create = React.useCallback(target => {\n    const removeListener = (type, callback) => {\n      const callbacks = listeners.current[type] ? listeners.current[type][target] : undefined;\n\n      if (!callbacks) {\n        return;\n      }\n\n      const index = callbacks.indexOf(callback);\n      callbacks.splice(index, 1);\n    };\n\n    const addListener = (type, callback) => {\n      listeners.current[type] = listeners.current[type] || {};\n      listeners.current[type][target] = listeners.current[type][target] || [];\n      listeners.current[type][target].push(callback);\n      return () => removeListener(type, callback);\n    };\n\n    return {\n      addListener,\n      removeListener\n    };\n  }, []);\n  const emit = React.useCallback(_ref => {\n    var _items$target, _listenRef$current;\n\n    let {\n      type,\n      data,\n      target,\n      canPreventDefault\n    } = _ref;\n    const items = listeners.current[type] || {}; // Copy the current list of callbacks in case they are mutated during execution\n\n    const callbacks = target !== undefined ? (_items$target = items[target]) === null || _items$target === void 0 ? void 0 : _items$target.slice() : [].concat(...Object.keys(items).map(t => items[t])).filter((cb, i, self) => self.lastIndexOf(cb) === i);\n    const event = {\n      get type() {\n        return type;\n      }\n\n    };\n\n    if (target !== undefined) {\n      Object.defineProperty(event, 'target', {\n        enumerable: true,\n\n        get() {\n          return target;\n        }\n\n      });\n    }\n\n    if (data !== undefined) {\n      Object.defineProperty(event, 'data', {\n        enumerable: true,\n\n        get() {\n          return data;\n        }\n\n      });\n    }\n\n    if (canPreventDefault) {\n      let defaultPrevented = false;\n      Object.defineProperties(event, {\n        defaultPrevented: {\n          enumerable: true,\n\n          get() {\n            return defaultPrevented;\n          }\n\n        },\n        preventDefault: {\n          enumerable: true,\n\n          value() {\n            defaultPrevented = true;\n          }\n\n        }\n      });\n    }\n\n    (_listenRef$current = listenRef.current) === null || _listenRef$current === void 0 ? void 0 : _listenRef$current.call(listenRef, event);\n    callbacks === null || callbacks === void 0 ? void 0 : callbacks.forEach(cb => cb(event));\n    return event;\n  }, []);\n  return React.useMemo(() => ({\n    create,\n    emit\n  }), [create, emit]);\n}\n//# sourceMappingURL=useEventEmitter.js.map"]},"metadata":{},"sourceType":"module"}