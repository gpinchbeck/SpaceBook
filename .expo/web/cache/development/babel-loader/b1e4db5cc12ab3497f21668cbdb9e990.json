{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.extractProps = extractProps;\nexports.mergeUnderscoreProps = mergeUnderscoreProps;\nexports.calculateProps = calculateProps;\nexports.resolveValueWithBreakpoint = exports.extractPropertyFromFunction = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectDestructuringEmpty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectDestructuringEmpty\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash.get\"));\n\nvar _lodash2 = _interopRequireDefault(require(\"lodash.isnil\"));\n\nvar _lodash3 = _interopRequireDefault(require(\"lodash.mergewith\"));\n\nvar _lodash4 = _interopRequireDefault(require(\"lodash.clonedeep\"));\n\nvar _base = require(\"./../../theme/base\");\n\nvar _tools = require(\"./../../theme/tools\");\n\nvar _useContrastText = require(\"../useContrastText\");\n\nfunction extractProps(props, theme, _ref, componentTheme, currentBreakpoint) {\n  (0, _objectDestructuringEmpty2.default)(_ref);\n  var newProps = {};\n\n  for (var property in props) {\n    if (_base.themePropertyMap[property]) {\n      var propValues = extractPropertyFromFunction(property, props, theme, componentTheme);\n\n      if (typeof propValues === 'string' || typeof propValues === 'number') {\n        newProps[property] = propValues;\n      } else if (!(0, _lodash2.default)(propValues)) {\n        for (var nestedProp in propValues) {\n          newProps[nestedProp] = (0, _lodash.default)(theme, _base.themePropertyMap[nestedProp] + \".\" + propValues[nestedProp], propValues[nestedProp]);\n        }\n      } else if (property === 'shadow') {\n        var shadowProps = theme[_base.themePropertyMap[property]][props[property]];\n\n        if (!(0, _lodash2.default)(shadowProps)) {\n          newProps = (0, _extends2.default)({}, newProps, shadowProps);\n        }\n      } else {\n        newProps[property] = resolveValueWithBreakpoint(props[property], theme.breakpoints, currentBreakpoint, property);\n      }\n    } else {\n      newProps[property] = resolveValueWithBreakpoint(props[property], theme.breakpoints, currentBreakpoint, property);\n    }\n  }\n\n  return (0, _lodash4.default)(newProps);\n}\n\nfunction filterDefaultProps(props, defaultProps) {\n  var _extractInObject = (0, _tools.extractInObject)(defaultProps, Object.keys(props)),\n      _extractInObject2 = (0, _slicedToArray2.default)(_extractInObject, 2),\n      resultProps = _extractInObject2[1];\n\n  return resultProps;\n}\n\nvar extractPropertyFromFunction = function extractPropertyFromFunction(property, props, theme, componentTheme) {\n  var propValues;\n\n  if (componentTheme && typeof componentTheme[_base.themePropertyMap[property]] === 'function') {\n    var funcProps = componentTheme[_base.themePropertyMap[property]]((0, _extends2.default)({\n      theme: theme\n    }, props));\n\n    var isNested = Object.keys(funcProps).some(function (key) {\n      return funcProps[key] && typeof funcProps[key] === 'object';\n    });\n    propValues = isNested ? (0, _extends2.default)({}, (0, _lodash.default)(funcProps, \"\" + props[property])) : (0, _extends2.default)({}, funcProps);\n  } else {\n    propValues = (0, _lodash.default)(componentTheme, _base.themePropertyMap[property] + \".\" + props[property]);\n  }\n\n  return propValues;\n};\n\nexports.extractPropertyFromFunction = extractPropertyFromFunction;\n\nfunction mergeUnderscoreProps(newProps, props) {\n  var _props = Object.keys(newProps).filter(function (propName) {\n    return propName.startsWith('_');\n  });\n\n  _props.forEach(function (propName) {\n    var _newProps$bg, _newProps$propName$co, _newProps$propName, _props$propName;\n\n    var bg = (_newProps$bg = newProps.bg) != null ? _newProps$bg : newProps.backgroundColor;\n    var textColor = bg ? {\n      color: (0, _useContrastText.useContrastText)(bg, (_newProps$propName$co = (_newProps$propName = newProps[propName]) == null ? void 0 : _newProps$propName.color) != null ? _newProps$propName$co : (_props$propName = props[propName]) == null ? void 0 : _props$propName.color)\n    } : {};\n    newProps[propName] = (0, _extends2.default)({}, textColor, newProps[propName], props[propName]);\n  });\n\n  return newProps;\n}\n\nvar resolveValueWithBreakpoint = function resolveValueWithBreakpoint(values, breakpointTheme, currentBreakpoint, property) {\n  if ((0, _tools.hasValidBreakpointFormat)(values, breakpointTheme, property)) {\n    return (0, _tools.findLastValidBreakpoint)(values, breakpointTheme, currentBreakpoint);\n  } else {\n    return values;\n  }\n};\n\nexports.resolveValueWithBreakpoint = resolveValueWithBreakpoint;\n\nfunction calculateProps(theme, colorModeProps, componentTheme, props, windowWidth) {\n  var currentBreakpoint = (0, _tools.getClosestBreakpoint)(theme.breakpoints, windowWidth);\n\n  if (!props) {\n    props = {};\n  }\n\n  var newProps;\n\n  if (componentTheme) {\n    newProps = extractProps(filterDefaultProps(props, componentTheme.defaultProps), theme, colorModeProps, componentTheme, currentBreakpoint);\n    var componentBaseStyle = typeof componentTheme.baseStyle !== 'function' ? componentTheme.baseStyle : componentTheme.baseStyle((0, _extends2.default)({\n      theme: theme\n    }, newProps, props, colorModeProps));\n    newProps = (0, _lodash3.default)(newProps, componentBaseStyle, function (objValue, srcValue, key) {\n      if (!(0, _lodash2.default)(objValue)) {\n        delete newProps[key];\n      }\n    });\n    var variant = props.variant || (0, _lodash.default)(componentTheme, 'defaultProps.variant');\n\n    if (variant && componentTheme.variants && componentTheme.variants[variant]) {\n      var colorScheme = props.colorScheme || (0, _lodash.default)(componentTheme, 'defaultProps.colorScheme');\n      var variantProps = componentTheme.variants[variant]((0, _extends2.default)({}, props, newProps, {\n        colorScheme: colorScheme,\n        theme: theme\n      }, colorModeProps));\n      variantProps = extractProps(variantProps, theme, colorModeProps, componentTheme, currentBreakpoint);\n      newProps = (0, _lodash3.default)(newProps, variantProps, function (objValue, srcValue, key) {\n        if (!(0, _lodash2.default)(objValue)) {\n          delete newProps[key];\n        }\n      });\n      delete newProps.variant;\n      delete newProps.colorScheme;\n    }\n  }\n\n  var extractedProps = extractProps(props, theme, colorModeProps, componentTheme, currentBreakpoint);\n  newProps = (0, _lodash3.default)(newProps, extractedProps, function (objValue, srcValue, key) {\n    if (!(0, _lodash2.default)(objValue)) {\n      delete newProps[key];\n    }\n  });\n  newProps = mergeUnderscoreProps(newProps, props);\n  return newProps;\n}","map":{"version":3,"mappings":"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","names":["_interopRequireDefault","require","Object","defineProperty","exports","value","extractProps","mergeUnderscoreProps","calculateProps","resolveValueWithBreakpoint","extractPropertyFromFunction","_slicedToArray2","_extends2","_objectDestructuringEmpty2","_lodash","_lodash2","_lodash3","_lodash4","_base","_tools","_useContrastText","props","theme","_ref","componentTheme","currentBreakpoint","default","newProps","property","themePropertyMap","propValues","nestedProp","shadowProps","breakpoints","filterDefaultProps","defaultProps","_extractInObject","extractInObject","keys","_extractInObject2","resultProps","funcProps","isNested","some","key","_props","filter","propName","startsWith","forEach","_newProps$bg","_newProps$propName$co","_newProps$propName","_props$propName","bg","backgroundColor","textColor","color","useContrastText","values","breakpointTheme","hasValidBreakpointFormat","findLastValidBreakpoint","colorModeProps","windowWidth","getClosestBreakpoint","componentBaseStyle","baseStyle","objValue","srcValue","variant","variants","colorScheme","variantProps","extractedProps"],"sources":["C:/Users/georg/Documents/Coursework/SpaceBook/node_modules/native-base/lib/commonjs/hooks/useThemeProps/utils.js"],"sourcesContent":["var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.extractProps=extractProps;exports.mergeUnderscoreProps=mergeUnderscoreProps;exports.calculateProps=calculateProps;exports.resolveValueWithBreakpoint=exports.extractPropertyFromFunction=void 0;var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _objectDestructuringEmpty2=_interopRequireDefault(require(\"@babel/runtime/helpers/objectDestructuringEmpty\"));var _lodash=_interopRequireDefault(require(\"lodash.get\"));var _lodash2=_interopRequireDefault(require(\"lodash.isnil\"));var _lodash3=_interopRequireDefault(require(\"lodash.mergewith\"));var _lodash4=_interopRequireDefault(require(\"lodash.clonedeep\"));var _base=require(\"./../../theme/base\");var _tools=require(\"./../../theme/tools\");var _useContrastText=require(\"../useContrastText\");function extractProps(props,theme,_ref,componentTheme,currentBreakpoint){(0,_objectDestructuringEmpty2.default)(_ref);var newProps={};for(var property in props){if(_base.themePropertyMap[property]){var propValues=extractPropertyFromFunction(property,props,theme,componentTheme);if(typeof propValues==='string'||typeof propValues==='number'){newProps[property]=propValues;}else if(!(0,_lodash2.default)(propValues)){for(var nestedProp in propValues){newProps[nestedProp]=(0,_lodash.default)(theme,_base.themePropertyMap[nestedProp]+\".\"+propValues[nestedProp],propValues[nestedProp]);}}else if(property==='shadow'){var shadowProps=theme[_base.themePropertyMap[property]][props[property]];if(!(0,_lodash2.default)(shadowProps)){newProps=(0,_extends2.default)({},newProps,shadowProps);}}else{newProps[property]=resolveValueWithBreakpoint(props[property],theme.breakpoints,currentBreakpoint,property);}}else{newProps[property]=resolveValueWithBreakpoint(props[property],theme.breakpoints,currentBreakpoint,property);}}return(0,_lodash4.default)(newProps);}function filterDefaultProps(props,defaultProps){var _extractInObject=(0,_tools.extractInObject)(defaultProps,Object.keys(props)),_extractInObject2=(0,_slicedToArray2.default)(_extractInObject,2),resultProps=_extractInObject2[1];return resultProps;}var extractPropertyFromFunction=function extractPropertyFromFunction(property,props,theme,componentTheme){var propValues;if(componentTheme&&typeof componentTheme[_base.themePropertyMap[property]]==='function'){var funcProps=componentTheme[_base.themePropertyMap[property]]((0,_extends2.default)({theme:theme},props));var isNested=Object.keys(funcProps).some(function(key){return funcProps[key]&&typeof funcProps[key]==='object';});propValues=isNested?(0,_extends2.default)({},(0,_lodash.default)(funcProps,\"\"+props[property])):(0,_extends2.default)({},funcProps);}else{propValues=(0,_lodash.default)(componentTheme,_base.themePropertyMap[property]+\".\"+props[property]);}return propValues;};exports.extractPropertyFromFunction=extractPropertyFromFunction;function mergeUnderscoreProps(newProps,props){var _props=Object.keys(newProps).filter(function(propName){return propName.startsWith('_');});_props.forEach(function(propName){var _newProps$bg,_newProps$propName$co,_newProps$propName,_props$propName;var bg=(_newProps$bg=newProps.bg)!=null?_newProps$bg:newProps.backgroundColor;var textColor=bg?{color:(0,_useContrastText.useContrastText)(bg,(_newProps$propName$co=(_newProps$propName=newProps[propName])==null?void 0:_newProps$propName.color)!=null?_newProps$propName$co:(_props$propName=props[propName])==null?void 0:_props$propName.color)}:{};newProps[propName]=(0,_extends2.default)({},textColor,newProps[propName],props[propName]);});return newProps;}var resolveValueWithBreakpoint=function resolveValueWithBreakpoint(values,breakpointTheme,currentBreakpoint,property){if((0,_tools.hasValidBreakpointFormat)(values,breakpointTheme,property)){return(0,_tools.findLastValidBreakpoint)(values,breakpointTheme,currentBreakpoint);}else{return values;}};exports.resolveValueWithBreakpoint=resolveValueWithBreakpoint;function calculateProps(theme,colorModeProps,componentTheme,props,windowWidth){var currentBreakpoint=(0,_tools.getClosestBreakpoint)(theme.breakpoints,windowWidth);if(!props){props={};}var newProps;if(componentTheme){newProps=extractProps(filterDefaultProps(props,componentTheme.defaultProps),theme,colorModeProps,componentTheme,currentBreakpoint);var componentBaseStyle=typeof componentTheme.baseStyle!=='function'?componentTheme.baseStyle:componentTheme.baseStyle((0,_extends2.default)({theme:theme},newProps,props,colorModeProps));newProps=(0,_lodash3.default)(newProps,componentBaseStyle,function(objValue,srcValue,key){if(!(0,_lodash2.default)(objValue)){delete newProps[key];}});var variant=props.variant||(0,_lodash.default)(componentTheme,'defaultProps.variant');if(variant&&componentTheme.variants&&componentTheme.variants[variant]){var colorScheme=props.colorScheme||(0,_lodash.default)(componentTheme,'defaultProps.colorScheme');var variantProps=componentTheme.variants[variant]((0,_extends2.default)({},props,newProps,{colorScheme:colorScheme,theme:theme},colorModeProps));variantProps=extractProps(variantProps,theme,colorModeProps,componentTheme,currentBreakpoint);newProps=(0,_lodash3.default)(newProps,variantProps,function(objValue,srcValue,key){if(!(0,_lodash2.default)(objValue)){delete newProps[key];}});delete newProps.variant;delete newProps.colorScheme;}}var extractedProps=extractProps(props,theme,colorModeProps,componentTheme,currentBreakpoint);newProps=(0,_lodash3.default)(newProps,extractedProps,function(objValue,srcValue,key){if(!(0,_lodash2.default)(objValue)){delete newProps[key];}});newProps=mergeUnderscoreProps(newProps,props);return newProps;}\n//# sourceMappingURL=utils.js.map"]},"metadata":{},"sourceType":"script"}