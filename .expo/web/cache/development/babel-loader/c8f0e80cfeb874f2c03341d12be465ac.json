{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nvar Storage = function () {\n  function Storage() {\n    _classCallCheck(this, Storage);\n  }\n\n  _createClass(Storage, [{\n    key: \"getData\",\n    value: function getData(done) {\n      var jsonValue, data;\n      return _regeneratorRuntime.async(function getData$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('@spacebook_details'));\n\n            case 3:\n              jsonValue = _context.sent;\n              data = JSON.parse(jsonValue);\n              return _context.abrupt(\"return\", done(data));\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 11:\n              return _context.abrupt(\"return\", null);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 8]], Promise);\n    }\n  }, {\n    key: \"storeData\",\n    value: function storeData(value) {\n      var jsonValue;\n      return _regeneratorRuntime.async(function storeData$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              jsonValue = JSON.stringify(value);\n              _context2.next = 4;\n              return _regeneratorRuntime.awrap(AsyncStorage.setItem('@spacebook_details', jsonValue));\n\n            case 4:\n              _context2.next = 9;\n              break;\n\n            case 6:\n              _context2.prev = 6;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[0, 6]], Promise);\n    }\n  }, {\n    key: \"updateDraft\",\n    value: function updateDraft(newVal, oldVal) {\n      var drafts, index;\n      return _regeneratorRuntime.async(function updateDraft$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _regeneratorRuntime.awrap(this.getDrafts());\n\n            case 2:\n              drafts = _context3.sent;\n              index = drafts.indexOf(oldVal);\n              drafts[index] = newVal;\n              console.log(this.getDrafts());\n              _context3.prev = 6;\n              _context3.next = 9;\n              return _regeneratorRuntime.awrap(AsyncStorage.mergeItem('@spacebook_savedDrafts', JSON.stringify(drafts)));\n\n            case 9:\n              _context3.next = 14;\n              break;\n\n            case 11:\n              _context3.prev = 11;\n              _context3.t0 = _context3[\"catch\"](6);\n              console.log(_context3.t0);\n\n            case 14:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, this, [[6, 11]], Promise);\n    }\n  }, {\n    key: \"saveDraft\",\n    value: function saveDraft(value) {\n      var drafts, updatedDrafts;\n      return _regeneratorRuntime.async(function saveDraft$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _regeneratorRuntime.awrap(this.getDrafts());\n\n            case 2:\n              drafts = _context4.sent;\n              updatedDrafts = [].concat(_toConsumableArray(drafts), [value]);\n              _context4.next = 6;\n              return _regeneratorRuntime.awrap(AsyncStorage.setItem('@spacebook_savedDrafts', JSON.stringify(updatedDrafts)));\n\n            case 6:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"getDrafts\",\n    value: function getDrafts() {\n      var drafts;\n      return _regeneratorRuntime.async(function getDrafts$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('@spacebook_savedDrafts'));\n\n            case 2:\n              drafts = _context5.sent;\n              return _context5.abrupt(\"return\", drafts ? JSON.parse(drafts) : []);\n\n            case 4:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }, {\n    key: \"schedTest\",\n    value: function schedTest(val) {\n      var values, updatedValues;\n      return _regeneratorRuntime.async(function schedTest$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return _regeneratorRuntime.awrap(this.getSched());\n\n            case 2:\n              values = _context6.sent;\n              updatedValues = [].concat(_toConsumableArray(values), [val]);\n              _context6.next = 6;\n              return _regeneratorRuntime.awrap(AsyncStorage.setItem('@spacebook_schedTest', JSON.stringify(updatedValues)));\n\n            case 6:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"getSched\",\n    value: function getSched() {\n      var r;\n      return _regeneratorRuntime.async(function getSched$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.next = 2;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('spacebook_schedTest'));\n\n            case 2:\n              r = _context7.sent;\n              return _context7.abrupt(\"return\", r ? JSON.parse(r) : []);\n\n            case 4:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }]);\n\n  return Storage;\n}();\n\nexport default Storage;","map":{"version":3,"sources":["D:/Users/georg/Desktop/MAD/SpaceBook/components/Storage.js"],"names":["AsyncStorage","Storage","done","getItem","jsonValue","data","JSON","parse","console","log","value","stringify","setItem","newVal","oldVal","getDrafts","drafts","index","indexOf","mergeItem","updatedDrafts","val","getSched","values","updatedValues","r"],"mappings":"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","sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nclass Storage {\r\n    async getData(done){\r\n        try {\r\n            const jsonValue = await AsyncStorage.getItem('@spacebook_details');\r\n            const data = JSON.parse(jsonValue);\r\n            return done(data);\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    async storeData(value){\r\n        try {\r\n            const jsonValue = JSON.stringify(value);\r\n            await AsyncStorage.setItem('@spacebook_details', jsonValue);\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    // async updateDraft(val){\r\n    //     await AsyncStorage.mergeItem('@spacebook_savedDrafts', JSON.stringify(val));\r\n    // }\r\n\r\n    async updateDraft(newVal, oldVal){\r\n        const drafts = await this.getDrafts();\r\n        const index = drafts.indexOf(oldVal);\r\n        drafts[index] = newVal;\r\n        console.log(this.getDrafts())\r\n        try{\r\n            await AsyncStorage.mergeItem('@spacebook_savedDrafts', JSON.stringify(drafts));\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    async saveDraft(value){\r\n        const drafts = await this.getDrafts();\r\n        const updatedDrafts = [...drafts, value];\r\n        await AsyncStorage.setItem('@spacebook_savedDrafts', JSON.stringify(updatedDrafts));\r\n    }\r\n\r\n    async getDrafts(){\r\n        const drafts = await AsyncStorage.getItem('@spacebook_savedDrafts');\r\n        return drafts ? JSON.parse(drafts) : [];\r\n    }\r\n\r\n    async schedTest(val){\r\n        const values = await this.getSched();\r\n        const updatedValues = [...values, val];\r\n        await AsyncStorage.setItem('@spacebook_schedTest', JSON.stringify(updatedValues));\r\n    }\r\n\r\n    async getSched(){\r\n        const r = await AsyncStorage.getItem('spacebook_schedTest');\r\n        return r ? JSON.parse(r) : [];\r\n    }\r\n}\r\n\r\nexport default Storage;"]},"metadata":{},"sourceType":"module"}